<!doctype html>
<html>

<head>

  <link rel="stylesheet" href="styles.css">
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

</head>


<body>

  <!-- graph container:-->
  <div id="chartdiv"></div>

  <!-- Graph visualization-->
  <script src="//cdn.amcharts.com/lib/4/core.js"></script>
  <script src="//cdn.amcharts.com/lib/4/charts.js"></script>




  <script>
  
  // Function shows 2D graph based on array of objects [{},{}]
    //using am4charts library:
    // Usage: //ShowGraph(driver_stops,'num_stops','id','id','Number of stops for driver');
    function ShowGraph(data, y_field, x_field, category_field, title_series1,
      title_series2, y_field_series2)
    {
      //console.log(data);

      var chart = am4core.create("chartdiv", am4charts.XYChart);
      chart.data = data;

      // Create axes
      let categoryAxis = chart.xAxes.push(new am4charts.CategoryAxis());
      categoryAxis.dataFields.category = category_field;
      categoryAxis.title.text = title_series1;

      let valueAxis = chart.yAxes.push(new am4charts.ValueAxis());
      valueAxis.title.text = y_field;

      // Create series
      var series = chart.series.push(new am4charts.ColumnSeries());
      series.dataFields.valueY = y_field;
      series.dataFields.categoryX = x_field;
      series.name = title_series1;
      series.columns.template.tooltipText = "Series: {name}\nCategory: {categoryX}\nValue: {valueY}";
      series.columns.template.fill = am4core.color("#00ff00"); // fill


      //var series2 = chart.series.push(new am4charts.LineSeries());
      var series2 = chart.series.push(new am4charts.ColumnSeries());
      series2.name = title_series2;
      series2.stroke = am4core.color("#CDA2AB");
      series2.strokeWidth = 3;
      series2.dataFields.valueY = y_field_series2;
      series2.dataFields.categoryX = x_field;
      series2.columns.template.tooltipText = "Series: {name}\nCategory: {categoryX}\nValue: {valueY}";
      document.querySelector('#chartdiv').classList.add('visible');

    }
    
    let data = [1,2,3,4];
    ShowGraph(data,'xcorr','time','time','xcorr','time',''); 

    
  </script>
  
  </body>
  </html>
  
